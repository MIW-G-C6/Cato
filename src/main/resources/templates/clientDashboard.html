<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head th:replace="fragments/general :: baseHeader(~{:: title})">
    <meta charset="UTF-8">
    <title>Client Dashboard</title>
</head>
<body>

<div th:replace="fragments/general :: navbar"></div>
<div th:replace="fragments/general :: breadCrumbsBar"></div>

<div class="container">
    <h1>Client dashboard for <span th:text="${client.name}"></span></h1>
    <br>
    <div class="cd-page">
        <div class="cd-groupmember">
            <h5>Group members</h5>
            <hr>
            <table>
                <tr th:each="thisMember : ${allMembersByGroupId}" >
                    <td>
                        <a th:href="@{/profilepage/{userId}(userId=${thisMember.userId})}" th:text="${thisMember.userName}"></a>
                    </td>
                    <td th:text="${thisMember.role}"></td>
                </tr>
            </table>
        </div>
        <div class="cd-tasklist">
            <h5>Task List<a class="float-right" th:href="@{/groups/{groupId}/clientDashboard/{clientId}/taskLists/{taskListId}/new(groupId=${groupId}, clientId=${clientId}, taskListId=${taskList.taskListId})}">Add new task</a></h5>
            <hr>
            <table>
                <tr th:each="task : ${listOfTasks}">
                    <td><a th:href="@{/groups/{groupId}/clientDashboard/{clientId}/taskLists/{taskListId}/{taskId} (groupId=${groupId}, clientId=${clientId}, taskListId=${task.taskListId}, taskId=${task.taskId})}" th:text="${task.description}" title="show task details"></a></td>
                    <td>
                        <span th:text="${task.priority}"></span>
                        <span th:text="priority"></span>
                    </td>
                    <td class="delete"><a th:href="@{'/task/delete/' + ${task.taskId}}"><img th:src="@{/css/images/checkmark-icon.svg}" height="20" width="20" title="Task completed"></a></td>
                </tr>
            </table>
        </div>
    </div>
</div>

<div th:replace="fragments/general :: footer"></div>
<div th:replace="fragments/general :: bottomScripts"></div>
</body>
</html>